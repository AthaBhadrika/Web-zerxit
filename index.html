<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ZerModz ‚Ä¢ Simple Version</title>
    <style>
        /* CSS LANGSUNG DI SINI */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: Arial, Helvetica, sans-serif;
        }
        body {
            background: orange;
            padding: 20px;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border: 5px solid black;
            padding: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid black;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .logo {
            background: black;
            color: white;
            padding: 10px 20px;
            border: 3px solid orange;
            font-weight: bold;
        }
        .time-panel {
            background: black;
            color: white;
            padding: 10px 20px;
            border: 3px solid orange;
            text-align: right;
        }
        .admin-btn {
            background: black;
            color: white;
            border: 3px solid orange;
            padding: 10px 20px;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
        }
        .product-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin: 20px 0;
        }
        .product {
            border: 4px solid black;
            padding: 20px;
            box-shadow: 8px 8px 0 black;
        }
        .product-name {
            font-size: 18px;
            font-weight: bold;
            border-bottom: 2px solid black;
            padding-bottom: 10px;
            margin-bottom: 10px;
        }
        .old-price {
            color: gray;
            text-decoration: line-through;
            text-decoration-color: orange;
            font-size: 14px;
        }
        .new-price {
            background: black;
            color: white;
            padding: 5px 10px;
            font-size: 20px;
            font-weight: bold;
            display: inline-block;
            margin-left: 10px;
        }
        .discount-badge {
            background: black;
            color: orange;
            padding: 5px 10px;
            display: inline-block;
            margin: 10px 0;
            font-weight: bold;
            border: 2px solid white;
        }
        .timer-badge {
            background: orange;
            color: black;
            padding: 8px 15px;
            border-radius: 30px;
            font-weight: bold;
            display: inline-block;
            margin: 5px 0;
            border: 2px solid black;
        }
        .order-btn {
            background: orange;
            border: 3px solid black;
            color: black;
            font-weight: bold;
            padding: 10px 30px;
            margin-top: 15px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 16px;
            width: 100%;
        }
        .order-btn:hover {
            background: black;
            color: orange;
        }
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .modal-content {
            background: black;
            border: 5px solid orange;
            padding: 30px;
            width: 90%;
            max-width: 400px;
            border-radius: 20px;
        }
        .modal-content input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 3px solid black;
            border-radius: 30px;
            font-size: 16px;
        }
        .modal-content button {
            width: 100%;
            padding: 15px;
            background: orange;
            border: 3px solid white;
            font-weight: bold;
            font-size: 16px;
            border-radius: 30px;
            cursor: pointer;
            margin-top: 10px;
        }
        .admin-panel {
            margin-top: 30px;
            background: black;
            border: 4px solid orange;
            padding: 20px;
            color: white;
            border-radius: 20px;
        }
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <div class="logo">‚ö° ZerModz</div>
            <div style="display: flex; gap: 10px;">
                <div class="time-panel">
                    <div id="clock">00:00:00</div>
                    <div id="date">Senin, 1 Jan 2024</div>
                </div>
                <button id="adminProfileBtn" class="admin-btn">‚ö° ADMIN</button>
            </div>
        </div>

        <!-- MODAL LOGIN -->
        <div id="loginModal" class="modal hidden">
            <div class="modal-content">
                <h2 style="color: white; text-align: center; margin-bottom: 20px;">‚ö° ADMIN LOGIN</h2>
                <input type="text" id="username" placeholder="Username" value="ZeroXitAndro">
                <input type="password" id="password" placeholder="Password" value="ROBB15">
                <button id="loginBtn">LOGIN</button>
                <p id="loginMessage" style="color: orange; text-align: center; margin-top: 10px;"></p>
            </div>
        </div>

        <!-- PRODUCT GRID -->
        <div id="productGrid" class="product-grid"></div>

        <!-- ADMIN PANEL -->
        <div id="adminPanel" class="admin-panel hidden">
            <div style="display: flex; justify-content: space-between; margin-bottom: 20px;">
                <h2 style="color: orange;">‚öôÔ∏è ADMIN PANEL</h2>
                <button id="logoutBtn" style="background: white; color: black; border: 2px solid orange; padding: 5px 15px; border-radius: 30px; font-weight: bold; cursor: pointer;">LOGOUT</button>
            </div>
            
            <!-- TAMBAH PRODUK -->
            <div style="background: #222; padding: 15px; margin-bottom: 20px; border-radius: 10px;">
                <h3 style="color: orange; margin-bottom: 10px;">‚ûï TAMBAH PRODUK</h3>
                <input type="text" id="newProductName" placeholder="Nama produk" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 30px; border: 2px solid white; background: black; color: white;">
                <input type="number" id="newProductPrice" placeholder="Harga" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 30px; border: 2px solid white; background: black; color: white;">
                <input type="text" id="newProductButton" placeholder="Teks button" value="[ ORDER ]" style="width: 100%; padding: 10px; margin-bottom: 10px; border-radius: 30px; border: 2px solid white; background: black; color: white;">
                <button id="addProductBtn" style="background: orange; color: black; font-weight: bold; padding: 10px; width: 100%; border-radius: 30px; border: 2px solid white; cursor: pointer;">TAMBAH</button>
            </div>

            <!-- RESET -->
            <div style="background: #222; padding: 15px; margin-bottom: 20px; border-radius: 10px;">
                <h3 style="color: orange; margin-bottom: 10px;">‚ö†Ô∏è RESET</h3>
                <button id="resetBtn" style="background: white; color: black; font-weight: bold; padding: 10px; width: 100%; border-radius: 30px; border: 2px solid orange; cursor: pointer;">RESET KE AWAL</button>
            </div>
            
            <!-- DAFTAR PRODUK -->
            <div style="background: #222; padding: 15px; margin-bottom: 20px; border-radius: 10px;">
                <h3 style="color: orange; margin-bottom: 10px;">üì¶ DAFTAR PRODUK</h3>
                <div id="productList"></div>
            </div>
            
            <!-- DISKON + TIMER -->
            <div style="background: #222; padding: 15px; border-radius: 10px;">
                <h3 style="color: orange; margin-bottom: 10px;">üè∑Ô∏è DISKON + TIMER</h3>
                <div id="discountControls"></div>
            </div>
        </div>
    </div>

    <script>
        // ========== JAVASCRIPT LANGSUNG DI SINI ==========
        console.log('üî• SCRIPT JALAN!');

        // DATA PRODUK DEFAULT
        const DEFAULT_PRODUCTS = [
            {
                id: 'p1',
                name: 'HOLO ALL CHAR FFM',
                oldPrice: 22000,
                newPrice: 15400,
                discount: 30,
                timerEnd: new Date(Date.now() + 103000).toISOString(),
                buttonText: '[ ORDER ]'
            },
            {
                id: 'p2',
                name: 'HOLO SENJATA FFM',
                oldPrice: 18000,
                newPrice: 18000,
                discount: 0,
                timerEnd: null,
                buttonText: '[ ORDER ]'
            },
            {
                id: 'p3',
                name: 'HOLO SENJATA FFB',
                oldPrice: 15000,
                newPrice: 15000,
                discount: 0,
                timerEnd: null,
                buttonText: '[ ORDER ]'
            }
        ];

        // LOAD PRODUK
        let products = [];
        try {
            const saved = localStorage.getItem('zerModzProducts');
            if (saved) {
                products = JSON.parse(saved);
            } else {
                products = DEFAULT_PRODUCTS;
                localStorage.setItem('zerModzProducts', JSON.stringify(DEFAULT_PRODUCTS));
            }
        } catch(e) {
            products = DEFAULT_PRODUCTS;
        }

        // KONVERSI TIMER
        products.forEach(p => {
            if (p.timerEnd) p.timerEnd = new Date(p.timerEnd);
        });

        // SAVE PRODUK
        function saveProducts() {
            const toSave = products.map(p => ({
                ...p,
                timerEnd: p.timerEnd ? p.timerEnd.toISOString() : null
            }));
            localStorage.setItem('zerModzProducts', JSON.stringify(toSave));
        }

        // FORMAT TIMER
        function formatTime(ms) {
            if (ms <= 0) return '00:00:00';
            const sec = Math.floor(ms / 1000);
            const h = Math.floor(sec / 3600);
            const m = Math.floor((sec % 3600) / 60);
            const s = sec % 60;
            return `${h.toString().padStart(2,'0')}:${m.toString().padStart(2,'0')}:${s.toString().padStart(2,'0')}`;
        }

        // RENDER PRODUK
        function renderProducts() {
            const grid = document.getElementById('productGrid');
            if (!grid) return;
            
            grid.innerHTML = '';
            
            products.forEach(product => {
                if (product.timerEnd && new Date() > product.timerEnd) {
                    product.newPrice = product.oldPrice;
                    product.discount = 0;
                    product.timerEnd = null;
                    saveProducts();
                }
                
                const card = document.createElement('div');
                card.className = 'product';
                
                let timerHtml = '';
                if (product.timerEnd) {
                    const timeLeft = product.timerEnd - new Date();
                    if (timeLeft > 0) {
                        timerHtml = `<div class="timer-badge">‚è±Ô∏è ${formatTime(timeLeft)}</div>`;
                    }
                }
                
                let discountHtml = '';
                if (product.discount > 0) {
                    discountHtml = `<div class="discount-badge">DISKON ${product.discount}%</div>`;
                }
                
                card.innerHTML = `
                    <div class="product-name">${product.name}</div>
                    <div>
                        <span class="old-price">Rp ${product.oldPrice.toLocaleString()}</span>
                        <span class="new-price">Rp ${product.newPrice.toLocaleString()}</span>
                    </div>
                    ${discountHtml}
                    ${timerHtml}
                    <button class="order-btn" data-id="${product.id}">${product.buttonText || '[ ORDER ]'}</button>
                `;
                
                grid.appendChild(card);
            });
            
            // EVENT ORDER
            document.querySelectorAll('.order-btn').forEach(btn => {
                btn.onclick = function() {
                    const product = products.find(p => p.id === this.dataset.id);
                    if (product) {
                        const msg = encodeURIComponent(`Halo kak saya mau order ${product.name} (Rp ${product.newPrice.toLocaleString()})`);
                        window.open(`https://wa.me/6289653938936?text=${msg}`, '_blank');
                    }
                };
            });
        }

        // CLOCK
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').innerText = 
                `${now.getHours().toString().padStart(2,'0')}:${now.getMinutes().toString().padStart(2,'0')}:${now.getSeconds().toString().padStart(2,'0')}`;
            document.getElementById('date').innerText = 
                now.toLocaleDateString('id-ID', { weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' });
        }
        setInterval(updateClock, 1000);
        updateClock();

        // TIMER UPDATE
        setInterval(() => {
            const now = new Date();
            products.forEach(product => {
                if (product.timerEnd) {
                    const timeLeft = product.timerEnd - now;
                    const timerEl = document.querySelector(`.order-btn[data-id="${product.id}"]`)?.parentElement?.querySelector('.timer-badge');
                    
                    if (timerEl) {
                        if (timeLeft <= 0) {
                            timerEl.remove();
                            product.newPrice = product.oldPrice;
                            product.discount = 0;
                            product.timerEnd = null;
                            saveProducts();
                            renderProducts();
                        } else {
                            timerEl.innerText = `‚è±Ô∏è ${formatTime(timeLeft)}`;
                        }
                    }
                }
            });
        }, 1000);

        // ========== LOGIN ==========
        const modal = document.getElementById('loginModal');
        const adminBtn = document.getElementById('adminProfileBtn');
        const loginBtn = document.getElementById('loginBtn');
        const username = document.getElementById('username');
        const password = document.getElementById('password');
        const loginMsg = document.getElementById('loginMessage');
        const adminPanel = document.getElementById('adminPanel');
        const logoutBtn = document.getElementById('logoutBtn');
        const closeBtn = document.getElementById('closeModalBtn');

        // BUKA MODAL
        adminBtn.onclick = () => modal.classList.remove('hidden');

        // TUTUP MODAL (KLIK DI LUAR)
        window.onclick = (e) => {
            if (e.target === modal) modal.classList.add('hidden');
        };

        // LOGIN
        loginBtn.onclick = () => {
            if (username.value === 'ZeroXitAndro' && password.value === 'ROBB15') {
                modal.classList.add('hidden');
                adminPanel.classList.remove('hidden');
                loginMsg.innerText = '';
                loadAdminPanel();
            } else {
                loginMsg.innerText = 'Username/password salah!';
            }
        };

        // LOGOUT
        logoutBtn.onclick = () => adminPanel.classList.add('hidden');

        // ========== ADMIN PANEL ==========
        function loadAdminPanel() {
            // DAFTAR PRODUK
            const listDiv = document.getElementById('productList');
            listDiv.innerHTML = '';
            products.forEach(product => {
                const div = document.createElement('div');
                div.style.cssText = 'display:flex; justify-content:space-between; background:#333; padding:10px; margin-bottom:5px; border-radius:30px;';
                div.innerHTML = `
                    <span style="color:white;">${product.name}</span>
                    <span style="color:orange;">Rp ${product.oldPrice.toLocaleString()}</span>
                    <button onclick="window.deleteProduct('${product.id}')" style="background:red; color:white; border:none; padding:5px 10px; border-radius:20px; cursor:pointer;">HAPUS</button>
                `;
                listDiv.appendChild(div);
            });

            // DISKON CONTROLS
            const discDiv = document.getElementById('discountControls');
            discDiv.innerHTML = '';
            products.forEach(product => {
                const div = document.createElement('div');
                div.style.cssText = 'background:#333; padding:10px; margin-bottom:10px; border-radius:30px;';
                div.innerHTML = `
                    <div style="color:orange; margin-bottom:5px;">${product.name}</div>
                    <div style="display:flex; gap:5px;">
                        <input type="number" id="disc_${product.id}" placeholder="%" style="width:60px; background:black; color:white; border:2px solid white; padding:5px; border-radius:20px;">
                        <input type="number" id="timer_${product.id}" placeholder="menit" style="width:70px; background:black; color:white; border:2px solid white; padding:5px; border-radius:20px;">
                        <input type="number" id="detik_${product.id}" placeholder="detik" style="width:70px; background:black; color:white; border:2px solid white; padding:5px; border-radius:20px;">
                        <button onclick="window.applyDisc('${product.id}')" style="background:orange; color:black; border:none; padding:5px 15px; border-radius:20px; font-weight:bold; cursor:pointer;">TERAP</button>
                    </div>
                `;
                discDiv.appendChild(div);
            });

            // TAMBAH PRODUK
            document.getElementById('addProductBtn').onclick = () => {
                const name = document.getElementById('newProductName').value.trim();
                const price = document.getElementById('newProductPrice').value;
                const btnText = document.getElementById('newProductButton').value.trim() || '[ ORDER ]';
                
                if (name && price) {
                    const newId = 'p' + Date.now();
                    products.push({
                        id: newId,
                        name: name,
                        oldPrice: parseInt(price),
                        newPrice: parseInt(price),
                        discount: 0,
                        timerEnd: null,
                        buttonText: btnText
                    });
                    saveProducts();
                    renderProducts();
                    loadAdminPanel();
                    
                    document.getElementById('newProductName').value = '';
                    document.getElementById('newProductPrice').value = '';
                    document.getElementById('newProductButton').value = '[ ORDER ]';
                }
            };

            // RESET
            document.getElementById('resetBtn').onclick = () => {
                if (confirm('Reset ke data awal?')) {
                    products = DEFAULT_PRODUCTS.map(p => ({
                        ...p,
                        timerEnd: p.timerEnd ? new Date(p.timerEnd) : null
                    }));
                    saveProducts();
                    renderProducts();
                    loadAdminPanel();
                }
            };
        }

        // FUNGSI GLOBAL
        window.deleteProduct = function(id) {
            products = products.filter(p => p.id !== id);
            saveProducts();
            renderProducts();
            loadAdminPanel();
        };

        window.applyDisc = function(id) {
            const disc = document.getElementById(`disc_${id}`)?.value || 0;
            const menit = parseInt(document.getElementById(`timer_${id}`)?.value) || 0;
            const detik = parseInt(document.getElementById(`detik_${id}`)?.value) || 0;
            
            const product = products.find(p => p.id === id);
            if (!product) return;
            
            const discPercent = parseFloat(disc);
            if (!isNaN(discPercent) && discPercent >= 0) {
                product.discount = discPercent;
                product.newPrice = Math.round(product.oldPrice - (product.oldPrice * discPercent / 100));
                
                if (menit > 0 || detik > 0) {
                    product.timerEnd = new Date(Date.now() + ((menit * 60) + detik) * 1000);
                }
                
                saveProducts();
                renderProducts();
                loadAdminPanel();
            }
        };

        // RENDER PERTAMA
        renderProducts();
        console.log('‚úÖ READY!');
    </script>
</body>
</html>
